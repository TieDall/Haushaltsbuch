<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Haushaltsbuch</title>
        
        <meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" type="text/css" href="css/sharedstyle.css" media="screen" />
	<link rel="stylesheet" type="text/css" href="css/trendstyle.css" media="screen" />
	<script src="js/functions.js"></script>
        
        <link rel="stylesheet" href="css/bootstrap.min.css" />
	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script> 
        <script src="js/Chart.js"></script> 
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"></link>
        
        <script>
            $(document).ready(function() {
                drawTrend();
            });
        </script>
    </h:head>
    <h:body>
        <div id="header">
            <h1>Verlauf</h1>
	</div>
        <div class="topnav" id="myTopnav">
            <a href="index.xhtml" class="active">Dashboard</a>
            <a class="section1" data-toggle="collapse" data-target="#adding_collapse_mobile">Erfassung</a>		
            <div id="adding_collapse_mobile" class="collapse">
                <a href="" class="section2">- Einnahme</a>
                <a href="" class="section2">- Ausgabe</a>
            </div> 
            <a class="section1" data-toggle="collapse" data-target="#overview_collapse_mobile">Übersicht</a>
            <div id="overview_collapse_mobile" class="collapse">
                <a href="list.xhtml" class="section2">- Listen</a>
                <a href="trend.xhtml" class="section2">- Verlauf</a>
            </div> 
            <a href="" class="section1" data-toggle="modal" data-target="#fixpaymentsModal" onclick="modal('fixpayments', 'fixincome', 'fixoutcome');" >Fixe Zahlungen</a>
            <a href="export.xhtml" class="section1">Export</a>
            <a href="javascript:void(0);" class="icon" onclick="respNav()">
                <i class="fa fa-bars"></i>
            </a>
        </div>
        <div id="nav">
            <img src="img/logo.svg" />
            <a href="index.xhtml" class="section1">Dashboard</a>
            <a class="section1" data-toggle="collapse" data-target="#adding_collapse">Erfassung</a>		
            <div id="adding_collapse" class="collapse">
                <a href="" class="section2">Einnahme</a>
                <a href="" class="section2">Ausgabe</a>
            </div> 
            <a class="section1" data-toggle="collapse" data-target="#overview_collapse">Übersicht</a>
            <div id="overview_collapse" class="collapse">
                <a href="list.xhtml" class="section2">Listen</a>
                <a href="trend.xhtml" class="section2">Verlauf</a>
            </div>
            <a href="" class="section1" data-toggle="modal" data-target="#fixpaymentsModal" onclick="modal('fixpayments', 'fixincome', 'fixoutcome');" >Fixe Zahlungen</a>
            <a href="export.xhtml" class="section1">Export</a>
	</div>
	<div id="content">
            <center>
                <div class="chart-container">
                    <canvas id="chartTrend" width="800" height="350"></canvas>
                </div>
            </center>
            <div class="selectionIntervall">
                <select>
                    <option>Halbjahr</option>
                    <option>Jahr</option>
                    <option>5 Jahre</option>
                </select>
            </div>
            <div id="additionalInfo">
                <table>
                    <tr>
                        <td>Einnahmen:</td>
                        <td>1020€</td>
                    </tr>
                    <tr>
                        <td>Ausgaben:</td>
                        <td>1000€</td>
                    </tr>
                    <tr>
                        <td>Bilanz:</td>
                        <td>20</td>
                    </tr>
                </table>
            </div>
	</div>
	<div id="footer">
            <p>Version: 0.1</p>
	</div>
        
        <!-- 
        ===== MODALS ====
        -->
	
	<div id="addingModal" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Erfassung</h4>
                    </div>
                    <div class="modal-body">
                        <h:form>
                            <fieldset> 
                                <table width="100%">
                                    <tr>
                                        <td>
                                            <input type="radio" onclick="income('income', 'outcome')" id="in" value="income" name="payments" checked="checked"/> 
                                            <label for="in">Einnahme</label>
                                        </td>
                                        <td>
                                            <input type="radio" onclick="outcome('outcome', 'income')" id="out" value="outcome" name="payments" /> 
                                            <label for="out">Ausgabe</label>
                                        </td>
                                    </tr>
                                </table>
                            </fieldset>
                            <div>
                                <div id="income">
                                    <fieldset> 
                                        <table width="100%">
                                            <tr>
                                                <td>
                                                    <p>Kategorie:</p>
                                                </td>
                                                <td>
                                                    <h:selectOneMenu>
                                                        <f:selectItems value="#{master.categoriesIncome}" var="c"
                                                                       itemLabel="#{c.name}" itemValue="#{c.name}" />
                                                    </h:selectOneMenu>
                                                    <button type="button" data-toggle="modal" data-target="#addingKategorieEinnahme">Hinzufügen</button>
                                                </td>                                     
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>Betrag:</p>
                                                </td>
                                                <td>
                                                    <input type="number" id="Betrag" name="Betrag" step="0.01"></input> €
                                                </td>                                        
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>Person:</p>
                                                </td>
                                                <td>
                                                    <h:selectOneMenu>
                                                        <f:selectItems value="#{master.person}" var="p"
                                                                       itemLabel="#{p.name}" itemValue="#{p.name}" />
                                                    </h:selectOneMenu>
                                                    <button type="button" data-toggle="modal" data-target="#addingPerson">Hinzufügen</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>Notiz:</p>
                                                </td>
                                                <td>
                                                    <textarea id="Notiz" name="Notiz" cols="35" rows="4"></textarea>
                                                </td>                                        
                                            </tr>
                                            <tr><td><button type="button">Hinzufügen</button></td></tr>
                                        </table>
                                    </fieldset>
                                </div>
                                <div id="outcome">
                                    <fieldset> 
                                        <table width="100%">
                                            <tr>
                                                <td>
                                                    <p>Kategorie:</p>
                                                </td>
                                                <td>
                                                    <h:selectOneMenu>
                                                        <f:selectItems value="#{master.categoriesOutcome}" var="c"
                                                                       itemLabel="#{c.name}" itemValue="#{c.name}" />
                                                    </h:selectOneMenu>
                                                    <button type="button" data-toggle="modal" data-target="#addingKategorieAusgabe">Hinzufügen</button>
                                                </td>                                     
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>Betrag:</p>
                                                </td>
                                                <td>
                                                    <input type="number" id="Betrag" name="Betrag" step="0.01"></input> €
                                                </td>                                        
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>Person:</p>
                                                </td>
                                                <td>
                                                    <h:selectOneMenu>
                                                        <f:selectItems value="#{master.person}" var="p"
                                                                       itemLabel="#{p.name}" itemValue="#{p.name}" />
                                                    </h:selectOneMenu>
                                                    <button type="button" data-toggle="modal" data-target="#addingPerson">Hinzufügen</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>Notiz:</p>
                                                </td>
                                                <td>
                                                    <textarea id="Notiz" name="Notiz" cols="35" rows="4"></textarea>
                                                </td>                                        
                                            </tr>
                                            <tr><td><button type="button">Hinzufügen</button></td></tr>
                                        </table>
                                    </fieldset>
                                </div>
                            </div>
                        </h:form>
                    </div>
                </div>
            </div>
	</div>
        <div id="addingKategorieEinnahme" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Kategorie erstellen</h4>
                    </div>
                    <div class="modal-body">
                        <h:form id="Category_income">
                        Name der Kategorie für Einnahmen:
                            <h:inputText id="category_income" binding="#{Category}" />
                            <p:commandButton value = "Hinzufügen" action="#{master.addCategory(Category.value, true)}" onclick="index.xhtml" />
                        </h:form>
                    </div>
                </div>
            </div>
        </div>
        <div id="addingKategorieAusgabe" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Kategorie erstellen</h4>
                    </div>
                    <div class="modal-body">
                        <h:form id="Category_outcome">
                        Name der Kategorie für Einnahmen:
                            <h:inputText id="category_outcome" binding="#{Category}" />
                            <p:commandButton value = "Hinzufügen" action="#{master.addCategory(Category.value, false)}" onclick="index.xhtml" />
                        </h:form>
                    </div>
                </div>
            </div>
        </div>
        <div id="addingPerson" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Person hinzufügen</h4>
                    </div>
                    <div class="modal-body">
                        <h:form id="Person">
                        Name der Person:
                            <h:inputText id="person" binding="#{person}" />
                            <p:commandButton value = "Hinzufügen" action="#{master.addPerson(person.value)}" onclick="index.xhtml" />
                        </h:form>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="fixpaymentsModal" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Erfassung</h4>
                    </div>
                    <div class="modal-body">
                        <form>
                            <fieldset> 
                                <table width="100%">
                                    <tr>
                                        <td>
                                            <input type="radio" onclick="income('fixincome', 'fixoutcome')" id="in" value="fixincome" name="fixpayments" checked="checked"/> 
                                            <label for="in">Einnahme</label>
                                        </td>
                                        <td>
                                            <input type="radio" onclick="outcome('fixoutcome', 'fixincome')" id="out" value="fixoutcome" name="fixpayments" /> 
                                            <label for="out">Ausgabe</label>
                                        </td>
                                    </tr>
                                </table>
                            </fieldset>
                            <div>
                                <div id="fixincome">
                                    <fieldset> 
                                        <table width="100%">
                                            <tr>
                                                <td>
                                                    <p>Kategorie:</p>
                                                </td>
                                                <td>
                                                    <h:selectOneMenu>
                                                        <f:selectItems value="#{master.categoriesIncome}" var="c"
                                                                       itemLabel="#{c.name}" itemValue="#{c.name}" />
                                                    </h:selectOneMenu>
                                                    <button type="button" data-toggle="modal" data-target="#addingKategorieEinnahme">Hinzufügen</button>
                                                </td>                                     
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>Häufigkeit</p>
                                                </td>
                                                <td>
                                                    <select>
                                                        <option value="Monatlich">Monatlich</option>
                                                        <option value="Quartal">Quartal</option>
                                                        <option value="Halbjährlich">Halbjährlich</option>
                                                        <option value="Jährlich">Jährlich</option>
                                                    </select>
                                                </td>                                     
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>Betrag:</p>
                                                </td>
                                                <td>
                                                    <input type="number" id="Betrag" name="Betrag"></input> €
                                                </td>                                        
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>Person:</p>
                                                </td>
                                                <td>
                                                    <h:selectOneMenu>
                                                        <f:selectItems value="#{master.person}" var="p"
                                                                       itemLabel="#{p.name}" itemValue="#{p.name}" />
                                                    </h:selectOneMenu>
                                                    <button type="button" data-toggle="modal" data-target="#addingPerson">Hinzufügen</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>Notiz:</p>
                                                </td>
                                                <td>
                                                    <textarea id="Notiz" name="Notiz" cols="35" rows="4"></textarea>
                                                </td>                                        
                                            </tr>
                                            <tr><td><button type="button">Hinzufügen</button></td></tr>
                                        </table>
                                    </fieldset>
                                </div>
                                <div id="fixoutcome">
                                    <fieldset> 
                                        <table width="100%">
                                            <tr>
                                                <td>
                                                    <p>Kategorie:</p>
                                                </td>
                                                <td>
                                                    <h:selectOneMenu>
                                                        <f:selectItems value="#{master.categoriesOutcome}" var="c"
                                                                       itemLabel="#{c.name}" itemValue="#{c.name}" />
                                                    </h:selectOneMenu>
                                                    <button type="button" data-toggle="modal" data-target="#addingKategorieAusgabe">Hinzufügen</button>
                                                </td>                                     
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>Betrag:</p>
                                                </td>
                                                <td>
                                                    <input type="number" id="Betrag" name="Betrag"></input> €
                                                </td>                                        
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>Person:</p>
                                                </td>
                                                <td>
                                                    <h:selectOneMenu>
                                                        <f:selectItems value="#{master.person}" var="p"
                                                                       itemLabel="#{p.name}" itemValue="#{p.name}" />
                                                    </h:selectOneMenu>
                                                    <button type="button" data-toggle="modal" data-target="#addingPerson">Hinzufügen</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <p>Notiz:</p>
                                                </td>
                                                <td>
                                                    <textarea id="Notiz" name="Notiz" cols="35" rows="4"></textarea>
                                                </td>                                        
                                            </tr>
                                            <tr><td><button type="button">Hinzufügen</button></td></tr>
                                        </table>
                                    </fieldset>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
	</div>
    </h:body>
</html>

